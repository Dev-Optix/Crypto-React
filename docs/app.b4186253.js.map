{"version":3,"sources":["js/app.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","database","firestore","cryptoRender","fetch","then","res","json","results","i","data","length","console","log","symbol","metrics","market_data","price_usd","percent_change_usd_last_1_hour","volume_last_24_hours","profile","tagline","category","sector","article","document","createElement","innerHTML","getElementById","appendChild","addEventListener","event","sendFirebase","catch","err","favRender","collection","get","querySnapshot","forEach","doc","id","price","change","volume","target","classList","value","includes","preventDefault","dataset","set","tag","hrchange","dayvolume","error","deleteCrypto","iddoc","delete","setCrypto","setSourceFunc","text","createTextNode","evt","window","onload"],"mappings":"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","file":"app.b4186253.js","sourceRoot":"..","sourcesContent":["\n// require('dotenv').config()\n\n// //Keys\n// import { firebaseConfig } from './keys.js';\n\nlet firebaseConfig = {\n  apiKey: process.env.API_KEY,\n  authDomain: process.env.AUTH_DOMAIN,\n  projectId: process.env.PROJECT_ID,\n  storageBucket: process.env.STORAGE_BUCKET,\n  messagingSenderId: process.env.MESSAGING_SENDER_ID,\n  appId: process.env.APP_ID\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n\n// retrieve from firebase\nconst database = firebase.firestore();\n\n\nfunction cryptoRender() {\n  \n  let apiCall = fetch(`https://data.messari.io/api/v1/assets?with-metrics`);\n  apiCall\n  .then(res => res.json())\n  .then(results => {\n    for(let i = 0; i < results.data.length; i++) {\n      console.log(`Crypto: ${results.data[i].symbol}`);\n      console.log(`Price USD: ${results.data[i].metrics.market_data.price_usd}`);\n      console.log(`1hr % Change: ${results.data[i].metrics.market_data.percent_change_usd_last_1_hour}`);\n      console.log(`24hr Volume: ${results.data[i].metrics.market_data.volume_last_24_hours}`);    \n      console.log(`Tagline: ${results.data[i].profile.tagline}`);\n      console.log(`Category: ${results.data[i].profile.category}`);\n      console.log(`Sector: ${results.data[i].profile.sector}`);\n      console.log(``);\n    \n      let article = document.createElement('article');\n      article.innerHTML = `\n        <article class=\"article\">\n          <section class=\"featuredImage\">\n            \n          </section>\n          <section class=\"articleContent\">\n              <h3>${results.data[i].symbol}</h3></a>\n              <h6>${results.data[i].profile.tagline}</br></h6>\n              <h6>Category:</br> ${results.data[i].profile.category}</h5>\n              <h6>Sector:</br> ${results.data[i].profile.sector}</br></h5>\n\n              <button class=\"btn-1\" \n                data-symbol=\"${results.data[i].symbol}\" \n                data-tag=\"${results.data[i].profile.tagline}\"\n                data-category=\"${results.data[i].profile.category}\" \n                data-sector=\"${results.data[i].profile.sector}\" \n                data-price=\"${results.data[i].metrics.market_data.price_usd}\" \n                data-hrChange=\"${results.data[i].metrics.market_data.percent_change_usd_last_1_hour}\" \n                data-dayVolume=\"${results.data[i].metrics.market_data.volume_last_24_hours}\" \n              type=\"button\">\n                Add to Favorites\n              </button>\n\n          </section>\n          <section class=\"impressions\">\n            Price USD:</br>${results.data[i].metrics.market_data.price_usd}</br></br>\n            1hr % Change:</br>${results.data[i].metrics.market_data.percent_change_usd_last_1_hour}</br></br>\n            24hr Volume:</br>${results.data[i].metrics.market_data.volume_last_24_hours}\n          </section>\n          <div class=\"clearfix\"></div>\n        </article>\n      `;\n      document.getElementById('main').appendChild(article);\n\n      document.addEventListener('click', function(event) {\n        sendFirebase(event);\n      });\n    }\n  })\n  .catch(err => console.log(err));\n  //clear out id = \"main\"\n  document.getElementById('main').innerHTML = ''; \n}\n\n\n//Read firebase data and create favorites DOM\nfunction favRender() {\n  \n  database.collection(\"Crypto\").get().then((querySnapshot) => {\n    querySnapshot.forEach((doc) => {\n      // doc.data() is never undefined for query doc snapshots\n      console.log(doc.id, \" => \", doc.data());\n      console.log(\"SYMBOL: \" , doc.data().symbol);\n      let article = document.createElement('article');\n        article.innerHTML = `\n          <article class=\"article\">\n            <section class=\"featuredImage\">\n              \n            </section>\n            <section class=\"articleContent\">\n                <h3>${doc.data().symbol}</h3></a>\n                <h6>${doc.data().tagline}</br></h6>\n                <h6>Category:</br> ${doc.data().category}</h5>\n                <h6>Sector:</br> ${doc.data().sector}</br></h5>\n\n                <button class=\"btn-2\" \n                  data-iddoc=\"${doc.data().symbol}\"\n                type=\"button\">\n                  Remove\n                </button>\n\n            </section>\n            <section class=\"impressions\">\n              Price USD:</br>${doc.data().price}</br></br>\n              1hr % Change:</br>${doc.data().change}</br></br>\n              24hr Volume:</br>${doc.data().volume}\n            </section>\n            <div class=\"clearfix\"></div>\n          </article>\n        `;\n        document.getElementById('main').appendChild(article);\n\n        \n    });\n  });\n}\n//Listener for Remove button\ndocument.addEventListener('click', function(event) {\n  deleteCrypto(event);\n});\n\n//To Firebase\nfunction sendFirebase(event) {\n  if (event.target.classList.value.includes('btn-1')){\n    event.preventDefault();\n    // Add a new document in collection \"cities\"\n    database.collection(\"Crypto\").doc(`${event.target.dataset.symbol}`).set({\n      symbol: `${event.target.dataset.symbol}`,\n      tagline: `${event.target.dataset.tag}`,\n      category: `${event.target.dataset.category}`,\n      sector: `${event.target.dataset.sector}`,\n      price: `${event.target.dataset.price}`,\n      change: `${event.target.dataset.hrchange}`,\n      volume: `${event.target.dataset.dayvolume}`\n    })\n    .then(() => {\n      console.log(\"Document is successfully written!\");\n    })\n    .catch((error) => {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n}\n\n//Clicking Remove in Favorites to delete a document in Firebase\nfunction deleteCrypto(event) {\n  if (event.target.classList.value.includes('btn-2')) {\n    \n    database.collection(\"Crypto\").doc(`${event.target.dataset.iddoc}`).delete().then(() => {\n      console.log(\"Document successfully deleted!\");\n      document.getElementById('main').innerHTML = '';\n      favRender();\n      \n    }).catch((error) => {\n      console.error(\"Error removing document: \", error);\n    });\n\n  }\n}\n\n\n//Sets view option from drop down\nfunction setCrypto(setSourceFunc, text) {\n  document.getElementById('main').innerHTML = ''; //clear out id = \"main\"\n  setSourceFunc();\n  document.getElementById('sourceChoice').innerHTML = '';\n  document.getElementById('sourceChoice').appendChild(document.createTextNode(text));\n}\n\n\n//Clicking Crypto List to populate article list on DOM\ndocument.getElementById('cryptoList').addEventListener('click', (evt) => {\n  setCrypto(cryptoRender, ': Crypto List');\n});\n\n//Clicking Favorites to populate article list on DOM\ndocument.getElementById('favs').addEventListener('click', (evt) => {\n  document.getElementById('main').innerHTML = '';\n  setCrypto(favRender, ': Favorites');\n});\n\n\n//Clicking Crypto to populate all articles list on DOM\ndocument.getElementById('cryptoTitle').addEventListener('click', (evt) => {\n  document.getElementById('main').innerHTML = ''; //clear out id = \"main\"\n  setCrypto(cryptoRender, '');\n});\n\n\n\n\n// Onload populate all articles list on DOM\nwindow.onload = function() {\n  document.getElementById('main').innerHTML = ''; //clear out id = \"main\"\n  setCrypto(cryptoRender, '');\n  cryptoRender();\n}\n\n\n\n\n\n\n"]}